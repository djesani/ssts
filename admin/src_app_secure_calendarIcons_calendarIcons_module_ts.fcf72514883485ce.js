"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([["src_app_secure_calendarIcons_calendarIcons_module_ts"],{2087:(P,v,o)=>{o.r(v),o.d(v,{CalendarIconsModule:()=>N});var d=o(2200),s=o(4341),b=o(8017),h=o(8132),p=o(5312),n=o(3664),l=o(2615),_=o(9330);const u=`${p.c.CONTEXT_PATH}/calendaricons`;let I=(()=>{var a;class t{constructor(e){this.http=e}getAll(){return this.http.get(u)}get(e){return this.http.get(`${u}/${e}`)}add(e){return this.http.post(u,e)}update(e,i){return this.http.patch(`${u}/${e}`,i)}static#n=a=()=>(this.\u0275fac=function(i){return new(i||t)(l.KVO(_.Qq))},this.\u0275prov=l.jDH({token:t,factory:t.\u0275fac}))}return a(),t})();var k=o(60);let j=(()=>{var a;class t{transform(e,i,c){return c?(e||[]).filter(m=>i.split(",").some(C=>m.hasOwnProperty(C)&&new RegExp(c,"gi").test(m[C]))):e}static#n=a=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275pipe=n.EJ8({name:"search",type:t,pure:!0,standalone:!1}))}return a(),t})();const E=()=>["fas","search"],y=()=>["fas","check-circle"],R=()=>["fas","times-circle"];function T(a,t){1&a&&(n.j41(0,"span",24),n.nrm(1,"fa-icon",9),n.k0s()),2&a&&(n.R7$(),n.Y8G("icon",n.lJ4(1,y)))}function A(a,t){1&a&&(n.j41(0,"span",25),n.nrm(1,"fa-icon",9),n.k0s()),2&a&&(n.R7$(),n.Y8G("icon",n.lJ4(1,R)))}function G(a,t){if(1&a&&(n.j41(0,"div",16)(1,"div",14)(2,"div",17),n.EFF(3),n.k0s()(),n.j41(4,"div",14),n.nrm(5,"img",18),n.k0s(),n.j41(6,"div",19),n.DNE(7,T,2,2,"span",20)(8,A,2,2,"span",21),n.k0s(),n.j41(9,"div",22)(10,"button",23),n.EFF(11,"Edit"),n.k0s()()()),2&a){const r=t.$implicit,e=n.XpG(2);n.R7$(3),n.JRh(r.name),n.R7$(2),n.Y8G("src",n.ai1("",e.LOCAL_PATH,"",r.imageurl),n.B4B),n.R7$(2),n.Y8G("ngIf",!r.unpublished),n.R7$(),n.Y8G("ngIf",r.unpublished),n.R7$(2),n.Y8G("routerLink",n.VkB("edit/",r.filename))}}function x(a,t){if(1&a){const r=n.RV6();n.j41(0,"div",2)(1,"div",3)(2,"header",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"input",8),n.mxI("ngModelChange",function(i){l.eBV(r);const c=n.XpG();return n.DH7(c.query,i)||(c.query=i),l.Njj(i)}),n.k0s(),n.nrm(7,"fa-icon",9),n.k0s()(),n.j41(8,"div",10)(9,"button",11),n.EFF(10,"Add"),n.k0s()()()()(),n.j41(11,"div",12)(12,"div",13)(13,"div",14),n.EFF(14," Keyword "),n.k0s(),n.j41(15,"div",14),n.EFF(16," Icon "),n.k0s(),n.j41(17,"div",14),n.EFF(18," Published "),n.k0s(),n.nrm(19,"div",14),n.k0s(),n.DNE(20,G,12,8,"div",15),n.nI1(21,"search"),n.k0s()()}if(2&a){const r=n.XpG();n.R7$(6),n.R50("ngModel",r.query),n.R7$(),n.Y8G("icon",n.lJ4(7,E)),n.R7$(13),n.Y8G("ngForOf",n.brH(21,3,r.calendarIcons,"name,description,startDate",r.query))}}let L=(()=>{var a;class t{constructor(e){this.calendarIconsService=e,this.LOCAL_PATH=p.c.LOCAL_PATH}ngOnInit(){this.calendarIconsService.getAll().subscribe(e=>{this.calendarIcons=e})}static#n=a=()=>(this.\u0275fac=function(i){return new(i||t)(n.rXU(I))},this.\u0275cmp=n.VBU({type:t,selectors:[["app-calendarIcons-list"]],standalone:!1,decls:2,vars:1,consts:[["id","main-content2"],["class","calendarIcons",4,"ngIf"],[1,"calendarIcons"],[1,"header-nav"],["id","header-nav"],[1,"row","add-wrapper"],[1,"col-11","search-container"],[1,"header-search-wrapper"],["placeholder","search . . .",1,"header-search-input",3,"ngModelChange","ngModel"],[3,"icon"],[1,"col-1","btn-add-container"],["routerLink","add",1,"btn","btn-primary","btn-add"],[1,"calendarIcons-list"],[1,"row","row-calendarIcon-header"],[1,"col-3"],["class","row row-calendarIcon",4,"ngFor","ngForOf"],[1,"row","row-calendarIcon"],[1,"calendarIcon-name"],[1,"thumb",3,"src"],[1,"col-3","read-only","published-status"],["class","published",4,"ngIf"],["class","unpublished",4,"ngIf"],[1,"col-3","actions"],[1,"btn","btn-primary",3,"routerLink"],[1,"published"],[1,"unpublished"]],template:function(i,c){1&i&&(n.j41(0,"div",0),n.DNE(1,x,22,8,"div",1),n.k0s()),2&i&&(n.R7$(),n.Y8G("ngIf",c.calendarIcons))},dependencies:[d.Sq,d.bT,h.Wk,s.me,s.BC,s.vS,k.aY,j],encapsulation:2}))}return a(),t})();var g=o(1954),$=o(4361),V=o(7173);function B(a,t){1&a&&(n.j41(0,"span"),n.EFF(1,"Edit "),n.k0s())}function D(a,t){1&a&&(n.j41(0,"span"),n.EFF(1,"Add "),n.k0s())}function S(a,t){if(1&a){const r=n.RV6();n.j41(0,"div",2)(1,"h5",3),n.DNE(2,B,2,0,"span",4)(3,D,2,0,"span",4),n.j41(4,"span",5),n.EFF(5,"Calendar Icon"),n.k0s()(),n.j41(6,"div",6)(7,"form",7),n.bIt("ngSubmit",function(){l.eBV(r);const i=n.XpG();return l.Njj(i.calendarIconFormSubmit())}),n.j41(8,"div",8)(9,"div",9)(10,"div",8)(11,"div",10)(12,"label"),n.EFF(13,"Keyword"),n.k0s(),n.nrm(14,"input",11),n.j41(15,"div",12),n.EFF(16,"Keyword is required"),n.k0s()()(),n.j41(17,"div",8)(18,"div",13)(19,"div",10)(20,"label"),n.EFF(21,"Published"),n.k0s(),n.j41(22,"div",14),n.nrm(23,"input",15),n.k0s()()()()(),n.j41(24,"div",9)(25,"div",8)(26,"div",16)(27,"label"),n.EFF(28,"Image URL"),n.k0s(),n.nrm(29,"input",17),n.j41(30,"div",18)(31,"label",19)(32,"app-file-upload",20),n.bIt("uploadedFilename",function(i){l.eBV(r);const c=n.XpG();return l.Njj(c.uploadedFilename(i))}),n.k0s()()(),n.j41(33,"div",12),n.EFF(34,"Image URL is required"),n.k0s()()()()(),n.j41(35,"div",21)(36,"button",22),n.bIt("click",function(){l.eBV(r);const i=n.XpG();return l.Njj(i.cancelCalendarIcon())}),n.EFF(37,"Cancel"),n.k0s(),n.j41(38,"button",23),n.EFF(39,"Save"),n.k0s()()()()()}if(2&a){const r=n.XpG();n.R7$(2),n.Y8G("ngIf",r.isEdit),n.R7$(),n.Y8G("ngIf",!r.isEdit),n.R7$(4),n.Y8G("formGroup",r.calendarIconForm),n.R7$(25),n.Y8G("existingFileUrl",r.existingFileUrl)("filesource",r.filesource)}}let F=(()=>{var a;class t{constructor(e,i,c,m){this.router=e,this.activatedRoute=i,this.formBuilder=c,this.calendarIconsService=m,this.changeEndDate=!1,this.LOCAL_PATH=p.c.LOCAL_PATH,this.getId=this.activatedRoute.snapshot.paramMap.get("id"),this.urlSegments=this.activatedRoute.snapshot.url,this.hasEdit()}ngOnInit(){this.buildForm(),this.setAddEditValidators(),this.formPreFill(),this.filesource="calendarIcons"}formPreFill(){this.calendarIconsService.getAll().subscribe(e=>{this.calendarIcons=e,this.isEdit?(this.calendarIcon=this.calendarIcons.find(i=>i.filename==this.getId),this.setData()):this.calendarIcon={}})}buildForm(){this.calendarIconForm=this.formBuilder.group({name:["",s.k0.required],imageurl:[null],unpublished:[!0]})}setAddEditValidators(){const e=this.calendarIconForm.get("imageurl");e.setValidators(this.isEdit?null:[s.k0.required]),e.updateValueAndValidity()}calendarIconFormSubmit(){this.calendarIconForm.markAllAsTouched(),this.calendarIconForm.valid&&this.saveCalendarIcon()}get calendarIconFormControls(){return this.calendarIconForm.controls}hasEdit(){this.urlSegments.forEach(e=>{if("edit"==e.path)return this.isEdit=!0})}setData(){this.calendarIconForm.get("name").setValue(this.calendarIcon.name),this.calendarIconForm.get("imageurl").setValue(this.calendarIcon.imageurl),this.calendarIconForm.get("unpublished").setValue(!this.calendarIcon.unpublished),this.existingFileUrl=this.LOCAL_PATH+this.calendarIcon.imageurl}getData(){this.calendarIcon.name=this.calendarIconForm.get("name").value,this.calendarIcon.startDate="1/1/1970",this.calendarIcon.endDate="1/1/1970",this.calendarIcon.unpublished=!this.calendarIconForm.get("unpublished").value}saveCalendarIcon(){this.getData(),this.isEdit?this.calendarIconsService.update(this.calendarIcon.filename,this.calendarIcon).subscribe({next:()=>{this.router.navigate(["calendarIcons"])},error:()=>{this.router.navigate(["calendarIcons"])},complete:()=>{this.router.navigate(["calendarIcons"])}}):this.calendarIconsService.add(this.calendarIcon).subscribe({next:()=>{this.router.navigate(["calendarIcons"])},error:()=>{this.router.navigate(["calendarIcons"])},complete:()=>{this.router.navigate(["calendarIcons"])}})}cancelCalendarIcon(){this.router.navigate(["calendarIcons"])}uploadedFilename(e){this.calendarIcon.imageurl="/images/calendaricons/"+e,this.calendarIconForm.get("imageurl").setValue(this.calendarIcon.imageurl)}static#n=a=()=>(this.\u0275fac=function(i){return new(i||t)(n.rXU(g.Ix),n.rXU(g.nX),n.rXU(s.ok),n.rXU(I))},this.\u0275cmp=n.VBU({type:t,selectors:[["app-calendarIcons-form"]],standalone:!1,decls:2,vars:1,consts:[["id","main-content2"],["class","card calendarIcon",4,"ngIf"],[1,"card","calendarIcon"],[1,"card-header"],[4,"ngIf"],[1,"name"],[1,"card-body"],["ScrollToInvalidControl","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-6"],[1,"form-control-group"],["type","text","formControlName","name",1,"form-control"],[1,"invalid-feedback"],[1,"col-lg-2"],[1,"form-check"],["type","checkbox","formControlName","unpublished","id","unpublished",1,"form-check-input","custom-control-input","unpublished"],[1,"form-control-group","image-url-fcg"],["type","text","formControlName","imageurl",1,"form-control","hidden"],[1,"input-group","file-upload"],[1,"upload-button"],[3,"uploadedFilename","existingFileUrl","filesource"],[1,"action-buttons"],[1,"btn","btn-default",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(i,c){1&i&&(n.j41(0,"div",0),n.DNE(1,S,40,5,"div",1),n.k0s()),2&i&&(n.R7$(),n.Y8G("ngIf",c.calendarIcon))},dependencies:[d.bT,s.qT,s.me,s.Zm,s.BC,s.cb,s.j4,s.JD,$.g,V.P],encapsulation:2}))}return a(),t})();var f=o(8486);const Y=[{path:"",component:L,canActivate:[f.q]},{path:"add",component:F,canActivate:[f.q]},{path:"edit/:id",component:F,canActivate:[f.q]}];let X=(()=>{var a;class t{static#n=a=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=n.$C({type:t}),this.\u0275inj=l.G2t({imports:[h.iI.forChild(Y),h.iI]}))}return a(),t})(),N=(()=>{var a;class t{static#n=a=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=n.$C({type:t}),this.\u0275inj=l.G2t({providers:[I],imports:[d.MD,X,s.YN,s.X1,b.G]}))}return a(),t})()}}]);