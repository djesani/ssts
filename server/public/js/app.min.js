angular
    .module('sstsApp', ['ui.router', 'ui.bootstrap']);
angular
    .module('sstsApp')
    .constant('apiUrl', 'api');
angular
    .module('sstsApp')
    .config(function($stateProvider) {
        $stateProvider
            .state('events', {
                abstract: true,
                url: '/events',
                template: '<div ui-view></div>'
            })
            .state('events.all', {
                url: '/all',
                controller: 'EventsAllCtrl',
                controllerAs: 'vm',
                templateUrl:'./modules/events.all/events.all.html',
            })
    });


angular
    .module('sstsApp')
    .controller('MainCtrl', function($state) {

        $state.go('events.all');

    });

angular
    .module('sstsApp')
    .controller('EventsAllCtrl', function($scope, $http, apiUrl) {

        $http.get(apiUrl + '/data.json').then(function successCallBack(response) {

            $scope.events = response.data.events;

            $('#gridtab-container').gridtab({
                grid: 3,
                tabPadding: 0,
                borderWidth: 30,
                contentPadding: 40
            });

        })

    });