/**
* JQuery Inline Popup
* Copyright (c) 2017 Position2 Inc.
* Licensed under MIT (http://opensource.org/licenses/MIT)
* https://github.com/Position2/jQuery-Inline-Popup
*/
!function(m){var l={itemSelector:"",ipclass:"inlinepopup",ipcloseclass:"inlinepopupClose",iparrowclass:"inlinepopup_arrow",ipcontentwrapperclass:"inlinepopup_content",detailsElem:"ip-details",activeFirst:!0,scrollToViewPort:!0,arrow:!0,scrollOffset:0,closeinnerelem:"<i class='fa fa-close'></i>"};m.fn.isOnScreen=function(){var t=m(window),e={top:t.scrollTop(),left:t.scrollLeft()},i=this.offset();return e.right=e.left+t.width(),e.bottom=e.top+t.height(),i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom)},m.fn.inlinePopup=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){m(this).inlinePopup(e)}),this;var d={},h=this,i=function(t,e,i,s){var n,o,l,r,c=e||"",a=(s=s||"",i="boolean"!=typeof i||i,(t=t||m(h).find(d.settings.itemSelector).filter(".active")).attr("data-row")),f=""!=c?c.attr("data-row"):0,p=m(h).find(d.settings.itemSelector).filter("[data-row='"+a+"']:visible");descElem=m(h).find("."+d.settings.ipclass).size()<1?(n=m("<div/>",{class:d.settings.ipclass}),o=m("<div/>",{class:d.settings.iparrowclass}).hide(),l=m("<div/>",{class:d.settings.ipcontentwrapperclass}),r=m("<span/>",{class:d.settings.ipcloseclass,html:d.settings.closeinnerelem}),o.add(l).add(r).appendTo(n),n).hide():m(h).find("."+d.settings.ipclass).css("height",""),dpCont=t.find("."+d.settings.detailsElem).html()||"",descElem.find("."+d.settings.ipcontentwrapperclass).html(dpCont),f!=a&&(descElem.hide(),descElem.insertAfter(p.last())),""!=dpCont.trim()?("click"==s?descElem.stop().slideDown():descElem.show().height(""),d.settings.scrollToViewPort&&i&&"resize"!=s?u(t):d.settings.scrollToViewPort&&i&&"resize"==s&&m(h).find("."+d.settings.ipcontentwrapperclass).isOnScreen()&&u(t)):descElem.hide(),d.settings.arrow&&g(t,descElem)},g=function(t,e){var i=e.find("."+d.settings.iparrowclass),s=t.position().left+(t.outerWidth()/2-i.outerWidth()/2);i.css({left:s+"px"}).show()},u=function(t,e){var i=t.offset().top-d.settings.scrollOffset,s=m("html, body"),n=Math.abs(s.scrollTop()-i);10<i&&10<n?s.stop().animate({scrollTop:i},e):"function"==typeof e&&e()},s=function(t){m(t).stop().slideUp(function(){m(this).siblings(d.settings.itemSelector).filter(".active").removeClass("active"),m(this).remove()})},n=function(){m(h).find(d.settings.itemSelector).eq(0).addClass("active"),i(null,null,!1)};this.setDataRow=function(){var t=m(h).find(d.settings.itemSelector).filter(":visible").offset().left,i=0,s=t;return m(h).find("."+d.settings.ipclass).hide(),m(h).find(d.settings.itemSelector).filter(":visible").each(function(){var t=m(this),e=t.offset().left;e<=s&&(i+=1),s=e,t.attr("data-row",i)}),h},function(){d.settings=m.extend({},l,e);var t=m(h).find(d.settings.itemSelector);t.size()<=0?console.log("Selector not present"):(h.setDataRow(),t.click(function(){var t=m(this);t.hasClass("active")?s(m(h).find("."+d.settings.ipclass)):(i(t,t.siblings(d.settings.itemSelector).filter(".active"),null,"click"),t.addClass("active").siblings(d.settings.itemSelector).removeClass("active"))}),d.settings.activeFirst&&n())}(),m("body").on("click","."+d.settings.ipclass+" ."+d.settings.ipcloseclass,function(t){s(m(this).parents("."+d.settings.ipclass)[0])});var t="",o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||m(window).width()<768?"orientationchange":"resize";return m(window).on(o,function(){clearTimeout(t),t=setTimeout(function(){h.setDataRow(),0<m(h).find(d.settings.itemSelector).filter(".active").size()&&i(null,null,!0,"resize")},500)}),this}}(jQuery);